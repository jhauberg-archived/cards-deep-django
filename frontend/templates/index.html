<!DOCTYPE html>

<html>

    {% include 'parts/boilerplate/head.html' %}

    <body>

        <div class="front">
            <div class="front-logo">
            </div>
            <div class="front-logo-subtitle">
                A fast-paced card game.
            </div>
            <div class="front-menu">

                {% if player and request.user.is_authenticated %}

                    {% if player.active_session %}

                        <a class="front-menu-item" href="{% url resume player.active_session.id %}">Resume</a>

                        <br />

                    {% endif %}

                    <form action="{% url begin %}" method="post" id="new">

                        {% csrf_token %}

                        <input type="submit" value="Play" />

                    </form>
                    
                    <br />

                    <a class="front-menu-item" href="{% url preferences %}">Settings</a>
                    <a class="front-menu-item" href="{% url profile player.id %}">My Profile</a>
                    <a class="front-menu-item" href="{% url logout %}">Logout</a>

                {% else %}

                    <a class="front-menu-item" id="register" href="{% url register %}">Sign up</a>

                    <a class="front-menu-item" href="{% url login %}">Login</a>
                    <a class="front-menu-item disabled" href="#" id="login-as-guest">Login as Guest</a>

                {% endif %}

            </div>
        </div>

    </body>

    <script type="text/javascript">
        $('#login-as-guest').click(function(e) {
            $.post("{% url login_as_guest %}", 
                { 
                    'csrfmiddlewaretoken': '{{ csrf_token }}'
                }
            );
        });

        function bounce(element) {
            $(element)
            .animate({ 
                margin: "10px",
                fontSize: "16pt" 
            }, 150)
            .animate({ 
                margin: "0 -18px 46px -18px",
                fontSize: "22pt"
            }, 125);
        }

        var signUpButtonElement = $("#register");

        bounce(signUpButtonElement);

        signUpButtonElement.mouseenter(function(e) {
            bounce(this);
        });
        
    </script>
</html>